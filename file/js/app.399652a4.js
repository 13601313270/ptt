(function(){"use strict";var t={9321:function(t,e,n){var i=n(5130),o=n(6768);function l(t,e,n,i,l,r){const c=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(c)}var r=(0,o.pM)({name:"HomeView",components:{},data(){return{}}}),c=n(1241);const u=(0,c.A)(r,[["render",l]]);var a=u,s=n(1387),A=(n(4114),n(4232)),g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAABFlJREFUeF7tnVtS4zAQAMXN4Ea+AcsNdKPNzXbXYAqTdaIZeUjNo/1DFZEVabo9ethJnhpH6Qg8le49nW8IUFwCBECA4hEo3n0yAAIUj0Dx7pMBEKB4BIp3nwyAAMUjULz7ZAAEKB6B4t0nAyBA8QgU7z4ZwFiAZVmee+8X42p/rDoEMArtsiy/Wmuvu+reeu/r/1wfCGCAZ1mW362154Oq3EuAACcFuAP/vebeu+sYu27cSTY/fvoI/tYA11kAASY1EcJfa3/xPClEgAkBFPAZAibi6/aUdYnXWlsnfNLD9dW/doIMIEQ5Ad/12P/ZbQQQCJAVPhmgOHwEGAiQ+cpnCLCH737Cd9Rl5gAHUTnY1x8NFiHhMwQUh48AVwJUuvKZAwD/PQLMAVprFa98MsAWgcrwy2cAJfxL7/1ltByI9nrZIQD4H6qWFAD4X3mqnADA/z5IlRIA+P/PUMoIAPzj6WkJAYB/e22SXgAl/BBP8VguNVMLAPyxKmkF0Dy5+285XO7KT70VDPzxlZ9WAODL4afbCQS+Dn4qAYCvh59GAODPwQ8vQIXHtufRys4MuwwEvgzwqFRIAYA/wip/PZwAwJfDlZQMJQDwJUh1ZcIIAHwdWGnpEAIAX4pTX869AMo7emsEyt7Y0eN3/lAo8GeQ6s5xmwEm4If9hK4OmW1plwIA3xbyvdrcCQD8x8F3dy9gYrZP2j/pi6sMsCzLH0V/gK8I1q2ibgRQXv3AN4DvaghAACOiymrcZIC13QwBSnoGxb0JcP2rG6MuMhSMIjR43ZUAWxZAgpNQNae7EwAJNPjOl3UpABKcByutwa0ASCBFeK6cawEmJeB2sMIJ9wIggYLmRNEQAmwSaH+uhUwgECKMAEggoDlRJJQASDBBONpGkKSLyvsGa5UMBzcCGy4DfPYDCSSXyrhMWAEYDsZwJSVCC4AEEsT3y4QXAAnOSZBCgJ0Er621db9AcjAxzPht4XxbiMT9rzJpMsC+20gglyClANuQsP7KN8NBxo0gqd9kgnGk0maA3YaRJhOk/F2gexqkF2BiOCglQQkBkOB2DigjABIcS1BKgE0CzWPn6YeDcgIgwfdMUFIAJEi+Ezhe/X6UUH4ZxWV7sGT9m+YomwF2+wSaOcF6WqrPI5YXYCITpJIAAbZUoBwO0kiAALvRvKIECHA1nasmAQIczOcrSYAANxZ0VSRAgDsr+goSIMBgS2dCglAPmyKAYE8vswQIIBBgcrMoRCZAAKEAWSVAAIUAmwSqL6rovbuOsevGKdk8rLjmk8kI8DAsj30jqQQI8FguD303gQTuHyljCDipzEAC988OIMBJAXYTw/0nk0MsAde2I4CBAJGrQIDI9AzajgAGQYxcBQJEpmfQdgQwCGLkKhAgMj2DtiOAQRAjV4EAkekZtB0BDIIYuQoEiEzPoO0IYBDEyFUgQGR6Bm1HAIMgRq4CASLTM2g7AhgEMXIVCBCZnkHb/wIHNOCQihP/HAAAAABJRU5ErkJggg==",h=n(144),v=n(5535);const f=t=>((0,o.Qi)("data-v-88ee558c"),t=t(),(0,o.jt)(),t),d={class:"home"},w=["onClick"],m=["src"],p={class:"title"},C={key:0,class:"loading"},I=f((()=>(0,o.Lk)("div",{class:"button"},"下一頁",-1))),E=[I],k={key:2,class:"popArticle"},y={class:"nav"},B=f((()=>(0,o.Lk)("img",{src:g},null,-1))),Q=[B],b={class:"title"},M={class:"content"},P=["innerHTML"];var O=(0,o.pM)({__name:"list",setup(t){const e=(0,h.KR)(-1),n=(0,h.KR)([{id:1,height:0,list:[]},{id:2,height:0,list:[]}]),i=((0,h.KR)({}),(0,h.KR)(!1)),l=(0,h.KR)(null),r=(0,h.KR)(null);async function c(){i.value=!0;const t=await new Promise((t=>{fetch(-1===e.value?"https://www.ptt.cc/bbs/Beauty/index.html":`https://www.ptt.cc/bbs/Beauty/index${e.value}.html`).then((function(t){return t.text()})).then((e=>{t(e)}))})),o=(0,v.Hh)(t),l=o(".btn-group-paging>a"),r=l[1].attribs.href.match(/index(\d+).html/)[1];console.log("maxPage",r),e.value=-1===e.value?r-1:e.value-1;const c=o(".r-list-container>.r-ent>.title>a"),a=[];for(let e=0;e<c.length;e++){const t=c[e];let n=t.children[0].data;a.push({title:n,link:"https://www.ptt.cc/"+t.attribs.href})}const s=a.reverse();e.value=-1===e.value?r-1:e.value-1;for(let e=0;e<s.length;e++){const t=s[e],i=await new Promise((e=>{fetch(t.link).then((function(t){return t.text()})).then((t=>{e(t)}))})),o=(0,v.Hh)(i),l=o("#main-content img").slice(0,1);if(window.sss=l,l&&0===l.length){u({id:1,title:t.title,img:null,height:20,content:o("#main-content").html()});continue}let r={id:1,title:t.title,img:null,height:40,content:""};if(l)for(let e=0;e<l.length;e++){const i=l[e].attribs.src,c=await new Promise((e=>{const l=new Image;l.onload=function(){const c=window.innerWidth/n.value.length;r={id:1,title:t.title,img:i,height:l.height/l.width*c,content:o("#main-content").html()},e(!0),setTimeout((()=>{e(!1)}),3e3)},l.onerror=function(){e(!1)},l.src=i}));if(c)break}u(r)}i.value=!1}function u(t){let e=0;const i=l.value.children;for(let n=0;n<i.length;n++)i[n].clientHeight<i[e].clientHeight&&(e=n);n.value[e].height+=t.height,n.value[e].list.push(t)}function a(t){console.log(t),r.value=t}return console.log("!!!!",o.sV),(0,o.sV)((()=>{c()})),(t,e)=>((0,o.uX)(),(0,o.CE)("div",d,[(0,o.Lk)("div",{class:"columnList",ref_key:"columnList",ref:l},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(n.value,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:"column"},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.list,(t=>((0,o.uX)(),(0,o.CE)("div",{key:t.id,class:"article",onClick:e=>a(t)},[t.img?((0,o.uX)(),(0,o.CE)("img",{key:0,src:t.img,style:{width:"100%"}},null,8,m)):(0,o.Q3)("",!0),(0,o.Lk)("div",p,(0,A.v_)(t.title),1)],8,w)))),128))])))),128))],512),i.value?((0,o.uX)(),(0,o.CE)("div",C,"加載中")):((0,o.uX)(),(0,o.CE)("div",{key:1,onClick:c,class:"nextPage"},E)),r.value?((0,o.uX)(),(0,o.CE)("div",k,[(0,o.Lk)("div",y,[(0,o.Lk)("div",{class:"back",onClick:e[0]||(e[0]=t=>r.value=null)},Q),(0,o.Lk)("div",b,(0,A.v_)(r.value.title),1)]),(0,o.Lk)("div",M,[(0,o.Lk)("div",{innerHTML:r.value.content},null,8,P)])])):(0,o.Q3)("",!0)]))}});const D=(0,c.A)(O,[["__scopeId","data-v-88ee558c"]]);var S=D;const x=[{path:"/",name:"list",component:S}],X=(0,s.aE)({history:(0,s.Bt)(),routes:x});var L=X,K=n(782),J=(0,K.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,i.Ef)(a).use(J).use(L).mount("#app")}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var l=e[i]={exports:{}};return t[i].call(l.exports,l,l.exports,n),l.exports}n.m=t,function(){var t=[];n.O=function(e,i,o,l){if(!i){var r=1/0;for(s=0;s<t.length;s++){i=t[s][0],o=t[s][1],l=t[s][2];for(var c=!0,u=0;u<i.length;u++)(!1&l||r>=l)&&Object.keys(n.O).every((function(t){return n.O[t](i[u])}))?i.splice(u--,1):(c=!1,l<r&&(r=l));if(c){t.splice(s--,1);var a=o();void 0!==a&&(e=a)}}return e}l=l||0;for(var s=t.length;s>0&&t[s-1][2]>l;s--)t[s]=t[s-1];t[s]=[i,o,l]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,l,r=i[0],c=i[1],u=i[2],a=0;if(r.some((function(e){return 0!==t[e]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(u)var s=u(n)}for(e&&e(i);a<r.length;a++)l=r[a],n.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return n.O(s)},i=self["webpackChunkptt"]=self["webpackChunkptt"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],(function(){return n(9321)}));i=n.O(i)})();
//# sourceMappingURL=app.399652a4.js.map